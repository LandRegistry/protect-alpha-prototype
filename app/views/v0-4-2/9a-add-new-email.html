{% extends "layout.html" %}

{% block pageTitle %}
  Add new email
{% endblock %}

{% block beforeContent %}
  
{% endblock %}


{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <h1 class="govuk-heading-l">
        What is your email?
      </h1>
      <div class="govuk-custom-element-to-hide">
        <form class="form" action="9d-confirm-add-email" method="post">

          <div class="govuk-form-group">
            <label class="govuk-label govuk-!-font-weight-bold govuk-!-font-size-24" for="email">Email</label>
            
            <input class="govuk-input govuk-input--width-10" id="email" name="email" type="text">
          </div>
          <div class="govuk-form-group">
              <div class="govuk-checkboxes">
                <div class="govuk-checkboxes__item">
                  <input class="govuk-checkboxes__input" id="private-email" name="private-email" type="checkbox" checked>
                  <label class="govuk-label govuk-checkboxes__label" for="private-email">Do not publish this on the Open Register (<a href="0a-open-register">What is this?</a>)</label>
                </div>
              </div>
  
            </div>
          <input class="govuk-button continueButton" type="submit" value="Submit">
          
        </form>
      </div>

  </div>

  <script>


    let itemToAddCheck = sessionStorage.getItem('item-to-update');
    if (itemToAddCheck === 'add first email to first property') {
      document.querySelector('.govuk-input').setAttribute('name', 'add-first-email-to-first-property');
    } else if (itemToAddCheck === 'add second email to first property') {
      document.querySelector('.govuk-input').setAttribute('name', 'add-second-email-to-first-property');
    } else if (itemToAddCheck === 'add first email to second property') {
      document.querySelector('.govuk-input').setAttribute('name', 'add-first-email-to-second-property');
    } else if (itemToAddCheck === 'add second email to second property') {
      document.querySelector('.govuk-input').setAttribute('name', 'add-second-email-to-second-property');
    }
    console.log(itemToAddCheck);

    document.querySelector('.continueButton').onclick = function() {
      if (itemToAddCheck === 'add first email to first property') {
        sessionStorage.setItem('firstEmailToFirstProperty', 'yes');
      } else if (itemToAddCheck === 'add second email to first property') {
        sessionStorage.setItem('secondEmailToFirstProperty', 'yes');
      } else if (itemToAddCheck === 'add first email to second property') {
        sessionStorage.setItem('firstEmailToSecondProperty', 'yes');
      } else if (itemToAddCheck === 'add second email to second property') {
        sessionStorage.setItem('secondEmailToSecondProperty', 'yes');
      }
    }
  </script>
  
{% endblock %}
