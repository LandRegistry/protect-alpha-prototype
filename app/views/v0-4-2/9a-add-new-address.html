{% extends "layout.html" %}

{% block pageTitle %}
  Add new address
{% endblock %}

{% block beforeContent %}
  
{% endblock %}


{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <h1 class="govuk-heading-l">
        Find your postal address
      </h1>
      <div class="govuk-custom-element-to-hide">
        <form class="form" action="#" method="post">

          <div class="govuk-form-group">
            <label class="govuk-label govuk-!-font-weight-bold govuk-!-font-size-24" for="postcode">Postcode </label>
            <span id="postcode-hint" class="govuk-hint">
                Enter a partial or complete postcode.
            </span>
            
            <input class="govuk-input govuk-input--width-10" id="postcode" name="postcode" type="text">
          </div>
          <input class="govuk-button" type="submit" value="Find address">
          
        </form>
      </div>

      <!-- <div class="govuk-custom-element-to-hide">
        <details class="govuk-details">
          <summary class="govuk-details__summary">
            <span class="govuk-details__summary-text">
              I live outside the UK
            </span>
          </summary>
          <div class="govuk-details__text">
            This is where the help text for those living outside UK sits.
          </div>
        </details>
      </div> -->
      <div class="govuk-custom-element-to-display hidden">
        <h2 class="govuk-heading-m govuk-!-margin-bottom-1">Postcode</h2>
        <p class="govuk-body"><span class="govuk-custom-data-to-display"></span><a href="#" class="govuk-custom-inline-link govuk-custom-revert-state">Change</a></p>
        <form class="form" action="9d-confirm-add-address" method="post">
          <div class="govuk-form-group">
            <label class="govuk-label govuk-!-font-weight-bold govuk-!-font-size-24" for="added-address">Select an address</label>
            <select class="govuk-select" id="added-address" name="added-address">
                <option value="50 Durnford Street, Plymouth PL1 3QN">50 Durnford Street, Plymouth PL1 3QN</option>
                <option value="51 Durnford Street, Plymouth PL1 3QN">51 Durnford Street, Plymouth PL1 3QN</option>
                <option value="52 Durnford Street, Plymouth PL1 3QN">52 Durnford Street, Plymouth PL1 3QN</option>
                <option value="53 Durnford Street, Plymouth PL1 3QN">53 Durnford Street, Plymouth PL1 3QN</option>
                <option value="54 Durnford Street, Plymouth PL1 3QN">54 Durnford Street, Plymouth PL1 3QN</option>
                <option value="55 Durnford Street, Plymouth PL1 3QN">55 Durnford Street, Plymouth PL1 3QN</option>
                <option value="56 Durnford Street, Plymouth PL1 3QN">56 Durnford Street, Plymouth PL1 3QN</option>
                <option value="57 Durnford Street, Plymouth PL1 3QN">57 Durnford Street, Plymouth PL1 3QN</option>
            </select>
          </div>
          <input class="govuk-button continueButton" type="submit" value="Continue">
        </form>
        <p class="govuk-body"><a href="manual-address-lookup-change">I can't find my address in the list</a></p>
      </div>
    </div>

  </div>

  <script>
    let itemToAddCheck = sessionStorage.getItem('item-to-update');
    if (itemToAddCheck === 'second address to first property') {
      document.querySelector('.govuk-select').setAttribute('name', 'second-address-to-first-property');
    } else if (itemToAddCheck === 'third address to first property') {
      document.querySelector('.govuk-select').setAttribute('name', 'third-address-to-first-property');
    } else if (itemToAddCheck === 'second address to second property') {
      document.querySelector('.govuk-select').setAttribute('name', 'second-address-to-second-property');
    } else if (itemToAddCheck === 'third address to second property') {
      document.querySelector('.govuk-select').setAttribute('name', 'third-address-to-second-property');
    }
    console.log(itemToAddCheck);

    document.querySelector('.continueButton').onclick = function() {
      if (itemToAddCheck === 'second address to first property') {
        sessionStorage.setItem('secondAddressToFirstProperty', 'yes');
      } else if (itemToAddCheck === 'third address to first property') {
        sessionStorage.setItem('thirdAddressToFirstProperty', 'yes');
      } else if (itemToAddCheck === 'second address to second property') {
        sessionStorage.setItem('secondAddressToSecondProperty', 'yes');
      } else if (itemToAddCheck === 'third address to second property') {
        sessionStorage.setItem('thirdAddressToSecondProperty', 'yes');
      }
    }
  </script>
  
{% endblock %}
